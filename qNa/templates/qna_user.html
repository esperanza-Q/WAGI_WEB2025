{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SujeongBridge | QnA</title>

  <link rel="stylesheet" href="{% static 'css/otherQnA-qna.css' %}">
</head>

<body>
<header class="main-header">
  <div class="logo">
    <a href="{% url 'home:home' %}">
      <img class="main-logo" src="{% static 'img/main-logo.svg' %}" alt="SujeongBridge">
    </a>
  </div>

  <nav class="main-nav">
    <ul class="main-nav-links">
      <li><a href="{% url 'experience:review_list' %}">활동 후기</a></li>
      <li><a href="{% url 'jobTips:list' %}">자소서·면접·포폴</a></li>
      <li><a href="{% url 'recruit:recruit_list' %}">모집</a></li>
      <li><a href="{% url 'career:roadmap_home' %}">나의 로드맵</a></li>
    </ul>
  </nav>

  <div class="main-header-r">
    <a href="{% url 'mypage:home' %}">
      <button class="header-mypage-btn" type="button">마이페이지</button>
    </a>

    {% if user.is_authenticated %}
      <a href="{% url 'accounts:logout' %}">
        <button class="header-login-btn" type="button">로그아웃</button>
      </a>
    {% else %}
      <a href="{% url 'accounts:login' %}">
        <button class="header-login-btn" type="button">로그인</button>
      </a>
    {% endif %}
  </div>
</header>

<main>
  <div class="container">

    <div class="other-profile-userInfo">
      <div class="other-profile-userImg"><img src={{target_user.profileImage.url}} class="other-profile-userImg"></div>

      <div class="other-profile-userId">
        {% if target_user %}
          {{ target_user.display_name }}
        {% else %}
          닉네임
        {% endif %}
      </div>

      <div class="other-profile-academic">
        <span class="other-profile-Grade">{{ target_user.grade }}학년</span>
        <span class="other-profile-major">{{ target_user.department.dept_name }}</span>
      </div>

      <div class="other-profile-userEmail">
        <span class="other-profile-email-label">이메일 | </span>
        <span class="otherQnA-profile-email-value">
          {% if target_user and target_user.email %}
            {{ target_user.email }}
          {% else %}
            -
          {% endif %}
        </span>
      </div>
    </div>

    <div class="otherQnA-list-wrapper">

      <div class="other-profile-menu">
        <a href="{% url 'qna:otherQna_roadmap' user_id=target_user.id %}">
          <button type="button" class="other-profile-roadmap">로드맵</button>
        </a>

        {% if target_user %}
          <a href="{% url 'qna:user_qna' target_user.id %}">
            <button type="button" class="other-profile-qna">Q&A</button>
          </a>
        {% else %}
          <button type="button" class="other-profile-qna">Q&A</button>
        {% endif %}

        {% if target_user %}
          <a href="{% url 'qna:write' %}?receiver={{ target_user.id }}">
            <button type="button" class="otherQnA-list-writeBtn">Q&A 남기기</button>
          </a>
        {% endif %}
      </div>

      <!-- ✅ QnA 리스트 (학번/닉네임 제거) -->
      <div class="otherQnA-list">
        {% for q in received_list %}
          <a href="{% url 'qna:detail' q.id %}" class="otherQnA-list-link">
            <div class="otherQnA-list-card">
              <span class="otherQnA-list-title">{{ q.title }}</span>
              <span>&gt;</span>
            </div>
          </a>
        {% empty %}
          <div class="otherQnA-list-empty">작성된 질문이 없습니다.</div>
        {% endfor %}
      </div>

    </div>
  </div>
</main>

<footer class="footer">
  <p>© SSWU_WAGI 3기 CampusBridge</p>
  <p class="member">BACKENDㅣ 손정민 권수정 노혜린 송정민 이윤서 이지현 조하늘 최은솔<br /> FRONTENDㅣ 이가윤 김비주 이원지</p>
</footer>

</body>
</html>
